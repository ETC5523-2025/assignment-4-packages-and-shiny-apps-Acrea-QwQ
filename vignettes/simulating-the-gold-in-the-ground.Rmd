---
title: "GoldinGroundOz"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{simulating-the-gold-in-the-ground}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 8,
  fig.height = 4,
  out.width = "80%",
  fig.align = "center"
)

library(ggplot2)
```

## Introduction

Welcome to the **GoldinGroundOz** package!
This vignette walks through how the package was built and what it aims to demonstrate.

Before we begin, an important reminder:

All data in this package are simulated.
They were generated to **resemble the general patterns** of real-world Australian housing and income trends —
but they are **not actual figures**, and no real economic inference should be drawn from them.

## The Idea

The story behind the name Gold in the Ground is simple —
Australia’s housing market has long been a fascinating subject,
with property prices often growing faster than household income.

## Dataset and Variable

To explore this idea visually, we created two small datasets:

-  housepr_income: showing detached house prices and household disposable income
over 1990–2023, both simulated to move in a realistic long-term pattern.

```{r}
#| echo: false
knitr::kable(
  data.frame(
    Variable = c("year", "income", "house_price"),
    Description = c(
      "Year variable (1990–2023)",
      "Simulated household disposable income index, generated as 100 + (year - 1990) * 6 + ε, with ε ~ N(0, 6). Represents steady income growth with mild yearly variation.",
      "Simulated detached house price index, generated as 100 * exp(0.06 * (year - 1990)) + η, with η ~ N(0, 30). Models exponential price increases and greater volatility after 2000."
    )
  ),
  caption = "Variables in the `housepr_income` dataset"
)

```

-  capital_gain: representing average capital gain rate changes between 1986–2020,
with a policy-phase split (“Before” vs. “After” the 50% capital gains discount).

```{r}
#| echo: false
knitr::kable(
  data.frame(
    Variable = c("year", "phase", "value"),
    Description = c(
      'Financial year period formatted as "YYYY-YY" (e.g., "1999-00").',
      'Policy phase: either "Before 50% capital gains discount" or "After 50% capital gains discount".',
      "Simulated average capital gain rate (basis points). For the “Before” phase, random values from Uniform(2500, 6000). For the “After” phase, increasing sequence from 7000 to 30000 with added Normal(0, 1200) noise. Negative values truncated to zero."
    )
  ),
  caption = "Variables in the `capital_gain` dataset"
)

```


Again, both are **artificial**, designed only to mimic the shape of real-world trends.

## Loading the Data

```{r setup}
library(GoldinGroundOz)
data("housepr_income")
data("capital_gain")

head(housepr_income)
head(capital_gain)

```

## Visualizing

```{r message=FALSE, warning=FALSE}
#| echo: false
ggplot(housepr_income, aes(x = year)) +
  geom_line(aes(y = house_price, color = "House Prices"), size = 1.2) +
  geom_line(aes(y = income, color = "Disposable Income"), size = 1.2) +
  scale_color_manual(
    name = NULL,
    values = c("House Prices" = "goldenrod", "Disposable Income" = "#FF8C69")
  ) +
  labs(
    title = "Simulated Detached House Prices vs Household Disposable Income",
    subtitle = "Australia, 1990–2023 (Simulated Data)",
    x = "Year",
    y = "Index (1989–90 = 100)",
    caption = "Note: Data are fully simulated for illustrative purposes only."
  ) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = "top",
    legend.text = element_text(size = 12),
    plot.title = element_text(face = "bold", size = 16, hjust = 0.5),
    plot.subtitle = element_text(size = 12, hjust = 0.5, color = "grey40"),
    axis.text = element_text(color = "grey20"),
    panel.grid.minor = element_blank()
  )
```

What we see is purely a stylized representation —
income grows steadily, while house prices accelerate more strongly after the 2000s.
This matches the broad shape of historical data, without using any real numbers.

## The Shiny App

The package also includes a small Shiny app to make these ideas interactive.
You can launch it directly with:

```{r}
#| eval: false
run_shinyapp()
```

## Ending

This package — and especially this vignette — serves as an educational example
of how simulated data can be used to illustrate long-term economic concepts
without using real or confidential data.
